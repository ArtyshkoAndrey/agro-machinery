{"version":3,"file":"dist/js/aa67222f23188bd6052e.js","mappings":"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","sources":["webpack:///resources/js/admin/components/EditItemsModal.vue","webpack:///./resources/js/admin/components/EditItemsModal.vue?d83f","webpack:///./resources/js/admin/components/EditItemsModal.vue","webpack:///./resources/js/admin/components/EditItemsModal.vue?b133","webpack:///./resources/js/admin/components/ItemCardOneField.vue?a990","webpack:///resources/js/admin/components/ItemCardOneField.vue","webpack:///./resources/js/admin/components/ItemCardOneField.vue?8898","webpack:///./resources/js/admin/components/ItemCardOneField.vue","webpack:///./resources/js/admin/pages/dashboard/users/index.vue?9bc0","webpack:///resources/js/admin/pages/dashboard/users/index.vue","webpack:///./resources/js/admin/pages/dashboard/users/index.vue?2368","webpack:///./resources/js/admin/pages/dashboard/users/index.vue"],"sourcesContent":["<template>\r\n  <vs-dialog v-model=\"active\" :loading=\"loading\" not-center width=\"300px\">\r\n    <template #header>\r\n      <h4 class=\"not-margin\">\r\n        {{ translateTitle }} <strong v-if=\"nameTitle\">{{ nameTitle }}</strong>\r\n      </h4>\r\n    </template>\r\n\r\n\r\n    <div class=\"con-content\">\r\n      <vs-input v-for=\"field in fields\"\r\n                :key=\"field\"\r\n                class=\"mt-2\"\r\n                v-model=\"data[field]\"\r\n                v-if=\"field !== 'id'\"\r\n                :placeholder=\"$t('form.inputs.' + field + '.placeholder')\"\r\n      >\r\n        <template v-if=\"error[field]\" #message-danger>\r\n          {{ error[field][0] }}\r\n        </template>\r\n      </vs-input>\r\n\r\n      <span class=\"text-danger\" v-if=\"error.message\">\r\n        {{ error.message }}\r\n      </span>\r\n    </div>\r\n\r\n    <template #footer>\r\n      <div class=\"row justify-content-end align-items-center\">\r\n        <div class=\"col-auto\">\r\n          <vs-button flat success @click=\"save\">\r\n            {{ $t('form.save') }}\r\n          </vs-button>\r\n        </div>\r\n        <div class=\"col-auto\">\r\n          <vs-button danger flat @click=\"active=false\">\r\n            {{ $t('form.cancel') }}\r\n          </vs-button>\r\n        </div>\r\n      </div>\r\n    </template>\r\n  </vs-dialog>\r\n</template>\r\n\r\n<script>\r\nimport Vue from \"vue\";\r\nexport default {\r\n  name: 'EditItemsModal',\r\n  props: {\r\n    bus: {\r\n      type: Vue,\r\n      required: true\r\n    },\r\n    title: {\r\n      type: String,\r\n      required: false,\r\n      default: ''\r\n    },\r\n    fields: {\r\n      type: Array,\r\n      required: true\r\n    },\r\n    inputs: {\r\n      type: Object,\r\n      default: new Object()\r\n    }\r\n  },\r\n  data: () => ({\r\n    active: false,\r\n    data: {},\r\n    nameTitle: '',\r\n    loading: false,\r\n    error: {}\r\n  }),\r\n  mounted() {\r\n\r\n    this.data = this.inputs\r\n    if (this.data.name) {\r\n      this.nameTitle = this.data.name\r\n    }\r\n\r\n    // Listen parent to open Modal\r\n    this.bus.$on('openModal', this.openModal)\r\n  },\r\n  computed: {\r\n    translateTitle () {\r\n      if (this.title === '') {\r\n        return this.$t('form.title.edit')\r\n      }\r\n\r\n      return this.$t(this.title)\r\n    }\r\n  },\r\n  methods: {\r\n    /**\r\n     * Open modal dialog\r\n     */\r\n    openModal() {\r\n      this.active = true\r\n    },\r\n\r\n    /**\r\n     * Call event update in Item card, but item cart\r\n     * transfer params and callbacks function\r\n     */\r\n    save () {\r\n      this.loading = true\r\n\r\n      this.bus.$emit('save', {\r\n        ...this.data,\r\n        callbackSuccess: this.callbackSuccess,\r\n        callbackError: this.callbackError\r\n      })\r\n    },\r\n\r\n    /**\r\n     * Callback if backend update data\r\n     * Close modal and clear error\r\n     *\r\n     */\r\n    callbackSuccess() {\r\n      this.active = false\r\n      this.loading = false\r\n      this.error = {}\r\n    },\r\n\r\n    /**\r\n     * Callback if backend return 400 error\r\n     * Viewed error for user and clear loading\r\n     *\r\n     * @param {object} error\r\n     */\r\n    callbackError(error) {\r\n      this.loading = false\r\n      this.error = error\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditItemsModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditItemsModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditItemsModal.vue?vue&type=template&id=fd15add4&scoped=true&\"\nimport script from \"./EditItemsModal.vue?vue&type=script&lang=js&\"\nexport * from \"./EditItemsModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fd15add4\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('vs-dialog',{attrs:{\"loading\":_vm.loading,\"not-center\":\"\",\"width\":\"300px\"},scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('h4',{staticClass:\"not-margin\"},[_vm._v(\"\\n      \"+_vm._s(_vm.translateTitle)+\" \"),(_vm.nameTitle)?_c('strong',[_vm._v(_vm._s(_vm.nameTitle))]):_vm._e()])]},proxy:true},{key:\"footer\",fn:function(){return [_c('div',{staticClass:\"row justify-content-end align-items-center\"},[_c('div',{staticClass:\"col-auto\"},[_c('vs-button',{attrs:{\"flat\":\"\",\"success\":\"\"},on:{\"click\":_vm.save}},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('form.save'))+\"\\n        \")])],1),_vm._v(\" \"),_c('div',{staticClass:\"col-auto\"},[_c('vs-button',{attrs:{\"danger\":\"\",\"flat\":\"\"},on:{\"click\":function($event){_vm.active=false}}},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('form.cancel'))+\"\\n        \")])],1)])]},proxy:true}]),model:{value:(_vm.active),callback:function ($$v) {_vm.active=$$v},expression:\"active\"}},[_vm._v(\" \"),_c('div',{staticClass:\"con-content\"},[_vm._l((_vm.fields),function(field){return (field !== 'id')?_c('vs-input',{key:field,staticClass:\"mt-2\",attrs:{\"placeholder\":_vm.$t('form.inputs.' + field + '.placeholder')},scopedSlots:_vm._u([(_vm.error[field])?{key:\"message-danger\",fn:function(){return [_vm._v(\"\\n        \"+_vm._s(_vm.error[field][0])+\"\\n      \")]},proxy:true}:null],null,true),model:{value:(_vm.data[field]),callback:function ($$v) {_vm.$set(_vm.data, field, $$v)},expression:\"data[field]\"}}):_vm._e()}),_vm._v(\" \"),(_vm.error.message)?_c('span',{staticClass:\"text-danger\"},[_vm._v(\"\\n      \"+_vm._s(_vm.error.message)+\"\\n    \")]):_vm._e()],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-body\"},[_c('div',{staticClass:\"row align-items-center mx-0\"},[_vm._l((_vm.fields),function(field,index){return _c('div',{key:field,staticClass:\"col-auto\",class:field === 'id' && _vm.hideId || field === 'password' ? 'd-none' : ''},[_c('h6',{staticClass:\"mb-0\",style:(_vm.checkTitleRouter ? 'cursor: pointer' : ''),on:{\"click\":function($event){return _vm.routePush(index)}}},[_vm._v(\"\\n            \"+_vm._s(_vm.inputs[field])+\"\\n          \")])])}),_vm._v(\" \"),_c('div',{staticClass:\"col-auto ms-auto\"},[_c('div',{staticClass:\"row gx-0\"},[(_vm.hideUpdate === false)?_c('div',{staticClass:\"col\"},[_c('vs-button',{attrs:{\"icon\":\"\",\"circle\":\"\",\"success\":\"\",\"flat\":\"\"},on:{\"click\":_vm.openModal}},[_c('em',{staticClass:\"bx bx-pencil\"})])],1):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"col\"},[_c('vs-button',{attrs:{\"icon\":\"\",\"circle\":\"\",\"danger\":\"\",\"flat\":\"\"},on:{\"click\":function($event){return _vm.$emit('destroy', _vm.inputs.id)}}},[_c('em',{staticClass:\"bx bx-trash-alt\"})])],1)])])],2)])]),_vm._v(\" \"),_c('EditItemsModal',{attrs:{\"bus\":_vm.bus,\"title\":_vm.updateModalTitle,\"fields\":_vm.fields,\"inputs\":_vm.inputs}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div class=\"card\">\r\n\r\n      <div class=\"card-body\">\r\n        <div class=\"row align-items-center mx-0\">\r\n          <div v-for=\"(field, index) in fields\"\r\n               :key=\"field\"\r\n               class=\"col-auto\"\r\n               :class=\"field === 'id' && hideId || field === 'password' ? 'd-none' : ''\"\r\n          >\r\n            <h6 class=\"mb-0\"\r\n                :style=\"checkTitleRouter ? 'cursor: pointer' : '' \"\r\n                @click=\"routePush(index)\"\r\n            >\r\n              {{ inputs[field] }}\r\n            </h6>\r\n          </div>\r\n\r\n          <div class=\"col-auto ms-auto\">\r\n            <div class=\"row gx-0\">\r\n              <div v-if=\"hideUpdate === false\" class=\"col\">\r\n                <vs-button\r\n                  icon\r\n                  circle\r\n                  success\r\n                  flat\r\n                  @click=\"openModal\"\r\n                >\r\n                  <em class=\"bx bx-pencil\" />\r\n                </vs-button>\r\n              </div>\r\n              <div class=\"col\">\r\n                <vs-button\r\n                  icon\r\n                  circle\r\n                  danger\r\n                  flat\r\n                  @click=\"$emit('destroy', inputs.id)\"\r\n                >\r\n                  <em class=\"bx bx-trash-alt\" />\r\n                </vs-button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <EditItemsModal :bus=\"bus\"\r\n                    :title=\"updateModalTitle\"\r\n                    :fields=\"fields\"\r\n                    :inputs=\"inputs\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Vue from \"vue\";\r\nimport EditItemsModal from \"./EditItemsModal.vue\";\r\nexport default {\r\n  name: \"ItemCardOneField\",\r\n  components: {\r\n    EditItemsModal\r\n  },\r\n  props: {\r\n    item: {\r\n      type: Object,\r\n      required: true\r\n    },\r\n    hideUpdate: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    fields: {\r\n      type: Array,\r\n      required: true\r\n    },\r\n    updateModalTitle: {\r\n      type: String,\r\n      required: false,\r\n      default: ''\r\n    },\r\n    hideId: {\r\n      type: Boolean,\r\n      default: true\r\n    }\r\n  },\r\n  data: () => ({\r\n    bus: new Vue()\r\n  }),\r\n  computed: {\r\n    inputs () {\r\n      let inputs = {}\r\n      this.fields.forEach(field => {\r\n        inputs[field] = this.item[field]\r\n      })\r\n      return inputs;\r\n    },\r\n    checkTitleRouter () {\r\n      return typeof this.$attrs['title-router'] !== 'undefined'\r\n    }\r\n  },\r\n  mounted() {\r\n    this.bus.$on('save', this.update)\r\n  },\r\n  methods: {\r\n    openModal() {\r\n      this.bus.$emit('openModal', {\r\n        name: this.name,\r\n        id: this.id\r\n      })\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @param {object} params\r\n     */\r\n    update (params) {\r\n      this.$emit('update', params)\r\n    },\r\n\r\n    routePush (index) {\r\n      console.log(typeof this.$attrs['title-router'] !== 'undefined')\r\n      if (typeof this.$attrs['title-router'] !== 'undefined') {\r\n        if (index === 0 && !this.hideId) {\r\n          this.$emit('title-route')\r\n        }\r\n\r\n        if (index === 1 && this.hideId) {\r\n          this.$emit('title-route')\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemCardOneField.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemCardOneField.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ItemCardOneField.vue?vue&type=template&id=e53f49ee&scoped=true&\"\nimport script from \"./ItemCardOneField.vue?vue&type=script&lang=js&\"\nexport * from \"./ItemCardOneField.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e53f49ee\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.$root.$loading.show)?_c('Loader'):_c('div',[_c('HeaderFilterInfo',{ref:\"filter\",attrs:{\"values\":_vm.users,\"view-length\":_vm.viewLength,\"title\":_vm.$t('users.index.filter_title'),\"filter\":_vm.filter},on:{\"create\":function($event){return _vm.busCreateUser.$emit('openModal')},\"get\":_vm.get,\"setViewLength\":_vm.setViewLength}}),_vm._v(\" \"),_c('div',{staticClass:\"row gy-3 mt-3\"},_vm._l((_vm.users.data),function(item){return _c('div',{key:item.id,staticClass:\"col-12\"},[_c('ItemCardOneField',{attrs:{\"item\":item,\"fields\":_vm.inputs,\"update-modal-title\":'users.edit-modal.title'},on:{\"update\":_vm.update,\"destroy\":_vm.deleteItem}})],1)}),0),_vm._v(\" \"),_c('EditItemsModal',{attrs:{\"bus\":_vm.busCreateUser,\"title\":'users.create-modal.title',\"fields\":_vm.inputs,\"inputs\":{}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <Loader v-if=\"$root.$loading.show\" />\r\n\r\n  <div v-else>\r\n    <HeaderFilterInfo ref=\"filter\"\r\n                      :values=\"users\"\r\n                      :view-length=\"viewLength\"\r\n                      :title=\"$t('users.index.filter_title')\"\r\n                      :filter=\"filter\"\r\n                      @create=\"busCreateUser.$emit('openModal')\"\r\n                      @get=\"get\"\r\n                      @setViewLength=\"setViewLength\"\r\n    />\r\n\r\n    <div class=\"row gy-3 mt-3\">\r\n      <div v-for=\"item in users.data\" :key=\"item.id\" class=\"col-12\">\r\n        <ItemCardOneField :item=\"item\"\r\n                          :fields=\"inputs\"\r\n                          :update-modal-title=\"'users.edit-modal.title'\"\r\n                          @update=\"update\"\r\n                          @destroy=\"deleteItem\"\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n    <EditItemsModal :bus=\"busCreateUser\"\r\n                    :title=\"'users.create-modal.title'\"\r\n                    :fields=\"inputs\"\r\n                    :inputs=\"{}\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport axios from 'axios'\r\nimport Loader from '~/admin/components/Loader.vue'\r\nimport HeaderFilterInfo from '~/admin/components/HeaderFilterInfo.vue'\r\nimport ItemCardOneField from '~/admin/components/ItemCardOneField.vue'\r\nimport EditItemsModal from \"~/admin/components/EditItemsModal\";\r\nimport Vue from \"vue\";\r\nimport i18n from \"~/admin/plugins/i18n\";\r\nimport {mapGetters} from \"vuex\";\r\n\r\nexport default {\r\n  name: 'Index',\r\n  components: {\r\n    Loader,\r\n    HeaderFilterInfo,\r\n    ItemCardOneField,\r\n    EditItemsModal\r\n  },\r\n  data: () => ({\r\n    title: i18n.t('users.index.title'),\r\n    viewLength: 10,\r\n    users: {},\r\n    filter: new Vue(),\r\n    busCreateUser: new Vue(),\r\n    inputs: [\r\n      'id', 'name', 'email', 'password'\r\n    ]\r\n  }),\r\n  computed: {\r\n    ...mapGetters({\r\n      user: 'auth/user'\r\n    }),\r\n  },\r\n  metaInfo: {\r\n    title: i18n.t('users.index.title'),\r\n  },\r\n  async mounted () {\r\n    await this.busCreateUser.$on('save', this.store)\r\n\r\n    await this.$root.$loading.set(50)\r\n    await axios.get('/api/admin/users', {\r\n      params: {\r\n        per_page: this.viewLength,\r\n      }\r\n    })\r\n    .then(r => {\r\n      console.log(r.data)\r\n      this.users = r.data.payload.users\r\n      this.$root.$loading.finish()\r\n    })\r\n    .catch(e => {\r\n      console.log(e)\r\n      this.$root.$loading.fail()\r\n    })\r\n  },\r\n  methods: {\r\n    /**\r\n     * update new Date\r\n     *\r\n     * @param {object} settings\r\n     * @param {number} settings.page\r\n     * @param {string} settings.search\r\n     */\r\n    get (settings) {\r\n      axios.get('/api/admin/users', {\r\n        params: {\r\n          per_page: this.viewLength,\r\n          page: settings.page,\r\n          search: settings.search\r\n        }\r\n      })\r\n        /**\r\n         * @var {object} r\r\n         * @var {object} r.data\r\n         * @var {object} r.data.payload\r\n         * @var {array} r.data.payload.users\r\n         */\r\n      .then(r => {\r\n        this.users = r.data.payload.users\r\n        this.filter.$emit('updateData', r.data.payload.users)\r\n        console.log('new data', r.data)\r\n      })\r\n\r\n    },\r\n\r\n    /**\r\n     * new view items count\r\n     *\r\n     * @param {number} newLength\r\n     */\r\n    setViewLength (newLength) {\r\n      this.viewLength = newLength\r\n    },\r\n\r\n    /**\r\n     * Delete select resort\r\n     *\r\n     * @param {number} id\r\n     */\r\n    deleteItem (id) {\r\n\r\n      if (id === this.user.id) {\r\n        this.$vs.notification({\r\n          duration: 2000,\r\n          sticky: true,\r\n          position: 'top-right',\r\n          color: 'danger',\r\n          title: this.$t('notification.delete.danger.title'),\r\n          text: this.$t('notification.delete.danger.user-delete')\r\n        })\r\n\r\n        return false\r\n      }\r\n      axios.delete('/api/users/' + id)\r\n        /**\r\n         * @var {object} r\r\n         * @var {object} r.data\r\n         * @var {object} r.data.payload\r\n         * @var {object} r.data.payload.user\r\n         */\r\n      .then(r => {\r\n        this.$vs.notification({\r\n          duration: 2000,\r\n          sticky: true,\r\n          position: 'top-right',\r\n          color: 'success',\r\n          title: this.$t('notification.delete.success.title', {name: r.data.payload.user.name}),\r\n          text: this.$t('notification.delete.success.text', {name: r.data.payload.user.name})\r\n        })\r\n        this.get({\r\n          page: this.$refs.filter.page,\r\n          search: this.$refs.filter.value\r\n        })\r\n      })\r\n      .catch(e => {\r\n        this.$vs.notification({\r\n          duration: 2000,\r\n          sticky: true,\r\n          position: 'top-right',\r\n          color: 'danger',\r\n          title: this.$t('notification.delete.danger.title'),\r\n          text: e.response.data.message\r\n        })\r\n        this.get({\r\n          page: this.$refs.filter.page,\r\n          search: this.$refs.filter.value\r\n        })\r\n      })\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @param {object} params\r\n     * @var {function} params.callbackSuccess\r\n     * @var {function} params.callbackError\r\n     * @var {number} params.id\r\n     * @var {string} params.name\r\n     */\r\n    update (params) {\r\n\r\n      axios.put('/api/admin/users/' + params.id, {\r\n        name: params.name,\r\n        email: params.email,\r\n        password: params.password\r\n      })\r\n      .then(r => {\r\n        if(r.data.success) {\r\n          params.callbackSuccess()\r\n          this.get({\r\n            page: this.$refs.filter.page,\r\n            search: this.$refs.filter.value\r\n          })\r\n        } else {\r\n          params.callbackError('Не предвиденная ошибка')\r\n        }\r\n      })\r\n      .catch(e => {\r\n        if (e.response.data.errors) {\r\n          params.callbackError(e.response.data.errors)\r\n        } else {\r\n          params.callbackError({\r\n            message: e.response.data.message\r\n          })\r\n        }\r\n      })\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @param {object} params\r\n     * @var {function} params.callbackSuccess\r\n     * @var {function} params.callbackError\r\n     * @var {null} params.id\r\n     * @var {string} params.name\r\n     */\r\n    store (params) {\r\n      axios.post('/api/admin/users/', {\r\n        name: params.name,\r\n        email: params.email,\r\n        password: params.password\r\n      })\r\n      .then(r => {\r\n        if (r.data.success) {\r\n          params.callbackSuccess()\r\n\r\n          this.get({\r\n            page: this.$refs.filter.page,\r\n            search: this.$refs.filter.value\r\n          })\r\n        } else {\r\n          params.callbackError('Server return Error')\r\n        }\r\n      })\r\n      .catch(e => {\r\n        if (e.response.data.errors) {\r\n          params.callbackError(e.response.data.errors)\r\n        } else {\r\n          params.callbackError({\r\n            message: e.response.data.message\r\n          })\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=24536f57&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"24536f57\",\n  null\n  \n)\n\nexport default component.exports"],"names":["name","props","bus","type","required","title","String","default","fields","Array","inputs","Object","data","mounted","this","nameTitle","$on","openModal","computed","translateTitle","$t","methods","active","save","loading","$emit","callbackSuccess","callbackError","error","_vm","_h","$createElement","_c","_self","attrs","scopedSlots","_u","key","fn","staticClass","_v","_s","_e","proxy","on","$event","model","value","callback","$$v","expression","_l","field","$set","message","components","EditItemsModal","item","hideUpdate","Boolean","updateModalTitle","hideId","forEach","checkTitleRouter","$attrs","update","id","params","routePush","console","log","index","class","style","Loader","HeaderFilterInfo","ItemCardOneField","metaInfo","i18n","get","per_page","viewLength","page","settings","search","r","setViewLength","newLength","deleteItem","user","$vs","notification","duration","sticky","position","color","text","e","response","email","password","errors","store","success","$root","$loading","ref","users","filter","busCreateUser"],"sourceRoot":""}