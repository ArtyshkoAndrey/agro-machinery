{"version":3,"file":"dist/js/5ec61c6b157d04487103.js","mappings":"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","sources":["webpack:///resources/js/admin/components/EditItemsModal.vue","webpack:///./resources/js/admin/components/EditItemsModal.vue?d83f","webpack:///./resources/js/admin/components/EditItemsModal.vue","webpack:///./resources/js/admin/components/EditItemsModal.vue?fba3","webpack:///./resources/js/admin/components/ItemCardOneField.vue?617b","webpack:///resources/js/admin/components/ItemCardOneField.vue","webpack:///./resources/js/admin/components/ItemCardOneField.vue?8898","webpack:///./resources/js/admin/components/ItemCardOneField.vue","webpack:///./resources/js/admin/pages/dashboard/manufacturers/index.vue?41e2","webpack:///resources/js/admin/pages/dashboard/manufacturers/index.vue","webpack:///./resources/js/admin/pages/dashboard/manufacturers/index.vue?d6dd","webpack:///./resources/js/admin/pages/dashboard/manufacturers/index.vue"],"sourcesContent":["<template>\r\n  <vs-dialog v-model=\"active\" :loading=\"loading\" not-center width=\"300px\">\r\n    <template #header>\r\n      <h4 class=\"not-margin\">\r\n        {{ translateTitle }} <strong v-if=\"nameTitle\">{{ nameTitle }}</strong>\r\n      </h4>\r\n    </template>\r\n\r\n\r\n    <div class=\"con-content\">\r\n      <vs-input v-for=\"field in fields\"\r\n                :key=\"field\"\r\n                class=\"mt-2\"\r\n                v-model=\"data[field]\"\r\n                v-if=\"field !== 'id'\"\r\n                :placeholder=\"$t('form.inputs.' + field + '.placeholder')\"\r\n      >\r\n        <template v-if=\"error[field]\" #message-danger>\r\n          {{ error[field][0] }}\r\n        </template>\r\n      </vs-input>\r\n\r\n      <span class=\"text-danger\" v-if=\"error.message\">\r\n        {{ error.message }}\r\n      </span>\r\n    </div>\r\n\r\n    <template #footer>\r\n      <div class=\"row justify-content-end align-items-center\">\r\n        <div class=\"col-auto\">\r\n          <vs-button flat success @click=\"save\">\r\n            {{ $t('form.save') }}\r\n          </vs-button>\r\n        </div>\r\n        <div class=\"col-auto\">\r\n          <vs-button danger flat @click=\"active=false\">\r\n            {{ $t('form.cancel') }}\r\n          </vs-button>\r\n        </div>\r\n      </div>\r\n    </template>\r\n  </vs-dialog>\r\n</template>\r\n\r\n<script>\r\nimport Vue from \"vue\";\r\nexport default {\r\n  name: 'EditItemsModal',\r\n  props: {\r\n    bus: {\r\n      type: Vue,\r\n      required: true\r\n    },\r\n    title: {\r\n      type: String,\r\n      required: false,\r\n      default: ''\r\n    },\r\n    fields: {\r\n      type: Array,\r\n      required: true\r\n    },\r\n    inputs: {\r\n      type: Object,\r\n      default: new Object()\r\n    }\r\n  },\r\n  data: () => ({\r\n    active: false,\r\n    data: {},\r\n    nameTitle: '',\r\n    loading: false,\r\n    error: {}\r\n  }),\r\n  computed: {\r\n    translateTitle () {\r\n      if (this.title === '') {\r\n        return this.$t('form.title.edit')\r\n      }\r\n\r\n      return this.$t(this.title)\r\n    }\r\n  },\r\n  mounted() {\r\n\r\n    this.data = this.inputs\r\n    if (this.data.name) {\r\n      this.nameTitle = this.data.name\r\n    }\r\n\r\n    // Listen parent to open Modal\r\n    this.bus.$on('openModal', this.openModal)\r\n  },\r\n  methods: {\r\n    /**\r\n     * Open modal dialog\r\n     */\r\n    openModal() {\r\n      this.active = true\r\n    },\r\n\r\n    /**\r\n     * Call event update in Item card, but item cart\r\n     * transfer params and callbacks function\r\n     */\r\n    save () {\r\n      this.loading = true\r\n\r\n      this.bus.$emit('save', {\r\n        ...this.data,\r\n        callbackSuccess: this.callbackSuccess,\r\n        callbackError: this.callbackError\r\n      })\r\n    },\r\n\r\n    /**\r\n     * Callback if backend update data\r\n     * Close modal and clear error\r\n     *\r\n     */\r\n    callbackSuccess() {\r\n      this.active = false\r\n      this.loading = false\r\n      this.error = {}\r\n    },\r\n\r\n    /**\r\n     * Callback if backend return 400 error\r\n     * Viewed error for user and clear loading\r\n     *\r\n     * @param {object} error\r\n     */\r\n    callbackError(error) {\r\n      this.loading = false\r\n      this.error = error\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditItemsModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditItemsModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditItemsModal.vue?vue&type=template&id=38f3f3d4&scoped=true&\"\nimport script from \"./EditItemsModal.vue?vue&type=script&lang=js&\"\nexport * from \"./EditItemsModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"38f3f3d4\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('vs-dialog',{attrs:{\"loading\":_vm.loading,\"not-center\":\"\",\"width\":\"300px\"},scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('h4',{staticClass:\"not-margin\"},[_vm._v(\"\\n      \"+_vm._s(_vm.translateTitle)+\" \"),(_vm.nameTitle)?_c('strong',[_vm._v(_vm._s(_vm.nameTitle))]):_vm._e()])]},proxy:true},{key:\"footer\",fn:function(){return [_c('div',{staticClass:\"row justify-content-end align-items-center\"},[_c('div',{staticClass:\"col-auto\"},[_c('vs-button',{attrs:{\"flat\":\"\",\"success\":\"\"},on:{\"click\":_vm.save}},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('form.save'))+\"\\n        \")])],1),_vm._v(\" \"),_c('div',{staticClass:\"col-auto\"},[_c('vs-button',{attrs:{\"danger\":\"\",\"flat\":\"\"},on:{\"click\":function($event){_vm.active=false}}},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('form.cancel'))+\"\\n        \")])],1)])]},proxy:true}]),model:{value:(_vm.active),callback:function ($$v) {_vm.active=$$v},expression:\"active\"}},[_vm._v(\" \"),_c('div',{staticClass:\"con-content\"},[_vm._l((_vm.fields),function(field){return (field !== 'id')?_c('vs-input',{key:field,staticClass:\"mt-2\",attrs:{\"placeholder\":_vm.$t('form.inputs.' + field + '.placeholder')},scopedSlots:_vm._u([(_vm.error[field])?{key:\"message-danger\",fn:function(){return [_vm._v(\"\\n        \"+_vm._s(_vm.error[field][0])+\"\\n      \")]},proxy:true}:null],null,true),model:{value:(_vm.data[field]),callback:function ($$v) {_vm.$set(_vm.data, field, $$v)},expression:\"data[field]\"}}):_vm._e()}),_vm._v(\" \"),(_vm.error.message)?_c('span',{staticClass:\"text-danger\"},[_vm._v(\"\\n      \"+_vm._s(_vm.error.message)+\"\\n    \")]):_vm._e()],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-body\"},[_c('div',{staticClass:\"row align-items-center mx-0\"},[_vm._l((_vm.fields),function(field,index){return _c('div',{key:field,staticClass:\"col-auto\",class:field === 'id' && _vm.hideId || field === 'password' ? 'd-none' : ''},[_c('h6',{staticClass:\"mb-0\",style:(_vm.checkTitleRouter ? 'cursor: pointer' : ''),on:{\"click\":function($event){return _vm.routePush(index)}}},[_vm._v(\"\\n            \"+_vm._s(_vm.inputs[field])+\" \"+_vm._s(field === 'cost' ? ' ₸' : '')+\"\\n          \")])])}),_vm._v(\" \"),_c('div',{staticClass:\"col-auto ms-auto\"},[_c('div',{staticClass:\"row gx-0\"},[(_vm.hideUpdate === false)?_c('div',{staticClass:\"col\"},[_c('vs-button',{attrs:{\"icon\":\"\",\"circle\":\"\",\"success\":\"\",\"flat\":\"\"},on:{\"click\":_vm.openModal}},[_c('em',{staticClass:\"bx bx-pencil\"})])],1):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"col\"},[_c('vs-button',{attrs:{\"icon\":\"\",\"circle\":\"\",\"danger\":\"\",\"flat\":\"\"},on:{\"click\":function($event){return _vm.$emit('destroy', _vm.inputs.id)}}},[_c('em',{staticClass:\"bx bx-trash-alt\"})])],1)])])],2)])]),_vm._v(\" \"),_c('EditItemsModal',{attrs:{\"bus\":_vm.bus,\"title\":_vm.updateModalTitle,\"fields\":_vm.fields,\"inputs\":_vm.inputs}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div class=\"card\">\r\n\r\n      <div class=\"card-body\">\r\n        <div class=\"row align-items-center mx-0\">\r\n          <div v-for=\"(field, index) in fields\"\r\n               :key=\"field\"\r\n               class=\"col-auto\"\r\n               :class=\"field === 'id' && hideId || field === 'password' ? 'd-none' : ''\"\r\n          >\r\n            <h6 class=\"mb-0\"\r\n                :style=\"checkTitleRouter ? 'cursor: pointer' : '' \"\r\n                @click=\"routePush(index)\"\r\n            >\r\n              {{ inputs[field] }} {{ field === 'cost' ? ' ₸' : '' }}\r\n            </h6>\r\n          </div>\r\n\r\n          <div class=\"col-auto ms-auto\">\r\n            <div class=\"row gx-0\">\r\n              <div v-if=\"hideUpdate === false\" class=\"col\">\r\n                <vs-button\r\n                  icon\r\n                  circle\r\n                  success\r\n                  flat\r\n                  @click=\"openModal\"\r\n                >\r\n                  <em class=\"bx bx-pencil\" />\r\n                </vs-button>\r\n              </div>\r\n              <div class=\"col\">\r\n                <vs-button\r\n                  icon\r\n                  circle\r\n                  danger\r\n                  flat\r\n                  @click=\"$emit('destroy', inputs.id)\"\r\n                >\r\n                  <em class=\"bx bx-trash-alt\" />\r\n                </vs-button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <EditItemsModal :bus=\"bus\"\r\n                    :title=\"updateModalTitle\"\r\n                    :fields=\"fields\"\r\n                    :inputs=\"inputs\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Vue from \"vue\";\r\nimport EditItemsModal from \"./EditItemsModal.vue\";\r\nexport default {\r\n  name: \"ItemCardOneField\",\r\n  components: {\r\n    EditItemsModal\r\n  },\r\n  props: {\r\n    item: {\r\n      type: Object,\r\n      required: true\r\n    },\r\n    hideUpdate: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    fields: {\r\n      type: Array,\r\n      required: true\r\n    },\r\n    updateModalTitle: {\r\n      type: String,\r\n      required: false,\r\n      default: ''\r\n    },\r\n    hideId: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: true\r\n    }\r\n  },\r\n  data: () => ({\r\n    bus: new Vue()\r\n  }),\r\n  computed: {\r\n    inputs () {\r\n      let inputs = {}\r\n      this.fields.forEach(field => {\r\n        inputs[field] = this.item[field]\r\n      })\r\n      return inputs;\r\n    },\r\n    checkTitleRouter () {\r\n      return typeof this.$attrs['title-router'] !== 'undefined'\r\n    }\r\n  },\r\n  mounted() {\r\n    this.bus.$on('save', this.update)\r\n  },\r\n  methods: {\r\n    openModal() {\r\n      this.bus.$emit('openModal', {\r\n        name: this.name,\r\n        id: this.id\r\n      })\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @param {object} params\r\n     */\r\n    update (params) {\r\n      this.$emit('update', params)\r\n    },\r\n\r\n    routePush (index) {\r\n      console.log(this.$attrs['title-router'])\r\n      this.$emit('title-route')\r\n      if (typeof this.$attrs['title-router'] !== 'undefined') {\r\n        if (index === 0 && !this.hideId) {\r\n          this.$emit('title-route')\r\n        }\r\n\r\n        if (index === 1 && this.hideId) {\r\n          this.$emit('title-route')\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemCardOneField.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemCardOneField.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ItemCardOneField.vue?vue&type=template&id=b89d3cf0&scoped=true&\"\nimport script from \"./ItemCardOneField.vue?vue&type=script&lang=js&\"\nexport * from \"./ItemCardOneField.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b89d3cf0\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.$root.$loading.show)?_c('Loader'):_c('div',[_c('HeaderFilterInfo',{ref:\"filter\",attrs:{\"values\":_vm.manufacturers,\"view-length\":_vm.viewLength,\"title\":_vm.$t('manufacturers.index.filter_title'),\"filter\":_vm.filter},on:{\"create\":function($event){return _vm.busCreateManufacturer.$emit('openModal')},\"get\":_vm.get,\"setViewLength\":_vm.setViewLength}}),_vm._v(\" \"),_c('div',{staticClass:\"row gy-3 mt-3\"},_vm._l((_vm.manufacturers.data),function(item){return _c('div',{key:item.id,staticClass:\"col-12\"},[_c('ItemCardOneField',{attrs:{\"item\":item,\"fields\":_vm.inputs,\"update-modal-title\":'manufacturers.edit-modal.title'},on:{\"update\":_vm.update,\"destroy\":_vm.deleteItem}})],1)}),0),_vm._v(\" \"),_c('EditItemsModal',{attrs:{\"bus\":_vm.busCreateManufacturer,\"title\":'manufacturers.create-modal.title',\"fields\":_vm.inputs,\"inputs\":{}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <Loader v-if=\"$root.$loading.show\" />\n\n  <div v-else>\n    <HeaderFilterInfo ref=\"filter\"\n                      :values=\"manufacturers\"\n                      :view-length=\"viewLength\"\n                      :title=\"$t('manufacturers.index.filter_title')\"\n                      :filter=\"filter\"\n                      @create=\"busCreateManufacturer.$emit('openModal')\"\n                      @get=\"get\"\n                      @setViewLength=\"setViewLength\"\n    />\n\n    <div class=\"row gy-3 mt-3\">\n      <div v-for=\"item in manufacturers.data\" :key=\"item.id\" class=\"col-12\">\n        <ItemCardOneField :item=\"item\"\n                          :fields=\"inputs\"\n                          :update-modal-title=\"'manufacturers.edit-modal.title'\"\n                          @update=\"update\"\n                          @destroy=\"deleteItem\"\n        />\n      </div>\n    </div>\n\n    <EditItemsModal :bus=\"busCreateManufacturer\"\n                    :title=\"'manufacturers.create-modal.title'\"\n                    :fields=\"inputs\"\n                    :inputs=\"{}\"\n    />\n  </div>\n</template>\n\n<script>\n\nimport axios from 'axios'\nimport Loader from '~/admin/components/Loader.vue'\nimport HeaderFilterInfo from '~/admin/components/HeaderFilterInfo.vue'\nimport ItemCardOneField from '~/admin/components/ItemCardOneField.vue'\nimport EditItemsModal from \"~/admin/components/EditItemsModal\";\nimport Vue from \"vue\";\nimport {mapGetters} from \"vuex\";\n\nexport default {\n  name: 'Index',\n  components: {\n    Loader,\n    HeaderFilterInfo,\n    ItemCardOneField,\n    EditItemsModal\n  },\n  data: () => ({\n    viewLength: 10,\n    manufacturers: {},\n    filter: new Vue(),\n    busCreateManufacturer: new Vue(),\n    inputs: [\n      'id', 'name'\n    ]\n  }),\n  metaInfo() {\n    return {\n      title: this.$t('manufacturers.index.title')\n    }\n  },\n  computed: {\n    ...mapGetters({\n      user: 'auth/user'\n    }),\n  },\n  async mounted () {\n    await this.busCreateManufacturer.$on('save', this.store)\n\n    await this.$root.$loading.set(50)\n    await axios.get('/api/admin/manufacturers', {\n      params: {\n        per_page: this.viewLength,\n      }\n    })\n    .then(r => {\n      console.log(r.data)\n      this.manufacturers = r.data.payload.manufacturers\n      this.$root.$loading.finish()\n    })\n    .catch(e => {\n      console.log(e)\n      this.$root.$loading.fail()\n    })\n  },\n  methods: {\n    /**\n     * update new Date\n     *\n     * @param {object} settings\n     * @param {number} settings.page\n     * @param {string} settings.search\n     */\n    get (settings) {\n      axios.get('/api/admin/manufacturers', {\n        params: {\n          per_page: this.viewLength,\n          page: settings.page,\n          search: settings.search\n        }\n      })\n        /**\n         * @var {object} r\n         * @var {object} r.data\n         * @var {object} r.data.payload\n         * @var {array} r.data.payload.manufacturers\n         */\n      .then(r => {\n        this.manufacturers = r.data.payload.manufacturers\n        this.filter.$emit('updateData', r.data.payload.manufacturers)\n        console.log('new data', r.data)\n      })\n\n    },\n\n    /**\n     * new view items count\n     *\n     * @param {number} newLength\n     */\n    setViewLength (newLength) {\n      this.viewLength = newLength\n    },\n\n    /**\n     * Delete select resort\n     *\n     * @param {number} id\n     */\n    deleteItem (id) {\n\n      axios.delete('/api/admin/manufacturers/' + id)\n        /**\n         * @var {object} r\n         * @var {object} r.data\n         * @var {object} r.data.payload\n         * @var {object} r.data.payload.manufacturer\n         */\n      .then(r => {\n        this.$vs.notification({\n          duration: 2000,\n          sticky: true,\n          position: 'top-right',\n          color: 'success',\n          title: this.$t('notification.delete.success.title', {name: r.data.payload.manufacturer.name}),\n          text: this.$t('notification.delete.success.text', {name: r.data.payload.manufacturer.name})\n        })\n        this.get({\n          page: this.$refs.filter.page,\n          search: this.$refs.filter.value\n        })\n      })\n      .catch(e => {\n        this.$vs.notification({\n          duration: 2000,\n          sticky: true,\n          position: 'top-right',\n          color: 'danger',\n          title: this.$t('notification.delete.danger.title'),\n          text: e.response.data.message\n        })\n        this.get({\n          page: this.$refs.filter.page,\n          search: this.$refs.filter.value\n        })\n      })\n    },\n\n    /**\n     *\n     * @param {object} params\n     * @var {function} params.callbackSuccess\n     * @var {function} params.callbackError\n     * @var {number} params.id\n     * @var {string} params.name\n     */\n    update (params) {\n\n      axios.put('/api/admin/manufacturers/' + params.id, {\n        name: params.name,\n      })\n      .then(r => {\n        if(r.data.success) {\n          params.callbackSuccess()\n          this.get({\n            page: this.$refs.filter.page,\n            search: this.$refs.filter.value\n          })\n        } else {\n          params.callbackError('Не предвиденная ошибка')\n        }\n      })\n      .catch(e => {\n        if (e.response.data.errors) {\n          params.callbackError(e.response.data.errors)\n        } else {\n          params.callbackError({\n            message: e.response.data.message\n          })\n        }\n      })\n    },\n\n    /**\n     *\n     * @param {object} params\n     * @var {function} params.callbackSuccess\n     * @var {function} params.callbackError\n     * @var {null} params.id\n     * @var {string} params.name\n     */\n    store (params) {\n      axios.post('/api/admin/manufacturers/', {\n        name: params.name\n      })\n      .then(r => {\n        if (r.data.success) {\n          params.callbackSuccess()\n\n          this.get({\n            page: this.$refs.filter.page,\n            search: this.$refs.filter.value\n          })\n        } else {\n          params.callbackError('Server return Error')\n        }\n      })\n      .catch(e => {\n        if (e.response.data.errors) {\n          params.callbackError(e.response.data.errors)\n        } else {\n          params.callbackError({\n            message: e.response.data.message\n          })\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=51f1ec84&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"51f1ec84\",\n  null\n  \n)\n\nexport default component.exports"],"names":["name","props","bus","type","required","title","String","default","fields","Array","inputs","Object","data","computed","translateTitle","this","$t","mounted","nameTitle","$on","openModal","methods","active","save","loading","$emit","callbackSuccess","callbackError","error","_vm","_h","$createElement","_c","_self","attrs","scopedSlots","_u","key","fn","staticClass","_v","_s","_e","proxy","on","$event","model","value","callback","$$v","expression","_l","field","$set","message","components","EditItemsModal","item","hideUpdate","Boolean","updateModalTitle","hideId","forEach","checkTitleRouter","$attrs","update","id","params","routePush","console","log","index","class","style","Loader","HeaderFilterInfo","ItemCardOneField","metaInfo","get","per_page","viewLength","page","settings","search","r","setViewLength","newLength","deleteItem","duration","sticky","position","color","text","e","response","errors","store","success","$root","$loading","ref","manufacturers","filter","busCreateManufacturer"],"sourceRoot":""}