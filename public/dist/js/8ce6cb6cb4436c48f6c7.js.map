{"version":3,"file":"dist/js/8ce6cb6cb4436c48f6c7.js","mappings":"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","sources":["webpack:///resources/js/admin/components/EditItemsModal.vue","webpack:///./resources/js/admin/components/EditItemsModal.vue?d83f","webpack:///./resources/js/admin/components/EditItemsModal.vue","webpack:///./resources/js/admin/components/EditItemsModal.vue?fba3","webpack:///./resources/js/admin/components/ItemCardOneField.vue?617b","webpack:///resources/js/admin/components/ItemCardOneField.vue","webpack:///./resources/js/admin/components/ItemCardOneField.vue?8898","webpack:///./resources/js/admin/components/ItemCardOneField.vue","webpack:///./resources/js/admin/pages/dashboard/users/index.vue?925d","webpack:///resources/js/admin/pages/dashboard/users/index.vue","webpack:///./resources/js/admin/pages/dashboard/users/index.vue?2368","webpack:///./resources/js/admin/pages/dashboard/users/index.vue"],"sourcesContent":["<template>\n  <vs-dialog v-model=\"active\" :loading=\"loading\" not-center width=\"300px\">\n    <template #header>\n      <h4 class=\"not-margin\">\n        {{ translateTitle }} <strong v-if=\"nameTitle\">{{ nameTitle }}</strong>\n      </h4>\n    </template>\n\n\n    <div class=\"con-content\">\n      <vs-input v-for=\"field in fields\"\n                :key=\"field\"\n                class=\"mt-2\"\n                v-model=\"data[field]\"\n                v-if=\"field !== 'id'\"\n                :placeholder=\"$t('form.inputs.' + field + '.placeholder')\"\n      >\n        <template v-if=\"error[field]\" #message-danger>\n          {{ error[field][0] }}\n        </template>\n      </vs-input>\n\n      <span class=\"text-danger\" v-if=\"error.message\">\n        {{ error.message }}\n      </span>\n    </div>\n\n    <template #footer>\n      <div class=\"row justify-content-end align-items-center\">\n        <div class=\"col-auto\">\n          <vs-button flat success @click=\"save\">\n            {{ $t('form.save') }}\n          </vs-button>\n        </div>\n        <div class=\"col-auto\">\n          <vs-button danger flat @click=\"active=false\">\n            {{ $t('form.cancel') }}\n          </vs-button>\n        </div>\n      </div>\n    </template>\n  </vs-dialog>\n</template>\n\n<script>\nimport Vue from \"vue\";\nexport default {\n  name: 'EditItemsModal',\n  props: {\n    bus: {\n      type: Vue,\n      required: true\n    },\n    title: {\n      type: String,\n      required: false,\n      default: ''\n    },\n    fields: {\n      type: Array,\n      required: true\n    },\n    inputs: {\n      type: Object,\n      default: new Object()\n    }\n  },\n  data: () => ({\n    active: false,\n    data: {},\n    nameTitle: '',\n    loading: false,\n    error: {}\n  }),\n  computed: {\n    translateTitle () {\n      if (this.title === '') {\n        return this.$t('form.title.edit')\n      }\n\n      return this.$t(this.title)\n    }\n  },\n  mounted() {\n\n    this.data = this.inputs\n    if (this.data.name) {\n      this.nameTitle = this.data.name\n    }\n\n    // Listen parent to open Modal\n    this.bus.$on('openModal', this.openModal)\n  },\n  methods: {\n    /**\n     * Open modal dialog\n     */\n    openModal() {\n      this.active = true\n    },\n\n    /**\n     * Call event update in Item card, but item cart\n     * transfer params and callbacks function\n     */\n    save () {\n      this.loading = true\n\n      this.bus.$emit('save', {\n        ...this.data,\n        callbackSuccess: this.callbackSuccess,\n        callbackError: this.callbackError\n      })\n    },\n\n    /**\n     * Callback if backend update data\n     * Close modal and clear error\n     *\n     */\n    callbackSuccess() {\n      this.active = false\n      this.loading = false\n      this.error = {}\n    },\n\n    /**\n     * Callback if backend return 400 error\n     * Viewed error for user and clear loading\n     *\n     * @param {object} error\n     */\n    callbackError(error) {\n      this.loading = false\n      this.error = error\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditItemsModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditItemsModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditItemsModal.vue?vue&type=template&id=38f3f3d4&scoped=true&\"\nimport script from \"./EditItemsModal.vue?vue&type=script&lang=js&\"\nexport * from \"./EditItemsModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"38f3f3d4\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('vs-dialog',{attrs:{\"loading\":_vm.loading,\"not-center\":\"\",\"width\":\"300px\"},scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('h4',{staticClass:\"not-margin\"},[_vm._v(\"\\n      \"+_vm._s(_vm.translateTitle)+\" \"),(_vm.nameTitle)?_c('strong',[_vm._v(_vm._s(_vm.nameTitle))]):_vm._e()])]},proxy:true},{key:\"footer\",fn:function(){return [_c('div',{staticClass:\"row justify-content-end align-items-center\"},[_c('div',{staticClass:\"col-auto\"},[_c('vs-button',{attrs:{\"flat\":\"\",\"success\":\"\"},on:{\"click\":_vm.save}},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('form.save'))+\"\\n        \")])],1),_vm._v(\" \"),_c('div',{staticClass:\"col-auto\"},[_c('vs-button',{attrs:{\"danger\":\"\",\"flat\":\"\"},on:{\"click\":function($event){_vm.active=false}}},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('form.cancel'))+\"\\n        \")])],1)])]},proxy:true}]),model:{value:(_vm.active),callback:function ($$v) {_vm.active=$$v},expression:\"active\"}},[_vm._v(\" \"),_c('div',{staticClass:\"con-content\"},[_vm._l((_vm.fields),function(field){return (field !== 'id')?_c('vs-input',{key:field,staticClass:\"mt-2\",attrs:{\"placeholder\":_vm.$t('form.inputs.' + field + '.placeholder')},scopedSlots:_vm._u([(_vm.error[field])?{key:\"message-danger\",fn:function(){return [_vm._v(\"\\n        \"+_vm._s(_vm.error[field][0])+\"\\n      \")]},proxy:true}:null],null,true),model:{value:(_vm.data[field]),callback:function ($$v) {_vm.$set(_vm.data, field, $$v)},expression:\"data[field]\"}}):_vm._e()}),_vm._v(\" \"),(_vm.error.message)?_c('span',{staticClass:\"text-danger\"},[_vm._v(\"\\n      \"+_vm._s(_vm.error.message)+\"\\n    \")]):_vm._e()],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-body\"},[_c('div',{staticClass:\"row align-items-center mx-0\"},[_vm._l((_vm.fields),function(field,index){return _c('div',{key:field,staticClass:\"col-auto\",class:field === 'id' && _vm.hideId || field === 'password' ? 'd-none' : ''},[_c('h6',{staticClass:\"mb-0\",style:(_vm.checkTitleRouter ? 'cursor: pointer' : ''),on:{\"click\":function($event){return _vm.routePush(index)}}},[_vm._v(\"\\n            \"+_vm._s(_vm.inputs[field])+\" \"+_vm._s(field === 'cost' ? ' ₸' : '')+\"\\n          \")])])}),_vm._v(\" \"),_c('div',{staticClass:\"col-auto ms-auto\"},[_c('div',{staticClass:\"row gx-0\"},[(_vm.hideUpdate === false)?_c('div',{staticClass:\"col\"},[_c('vs-button',{attrs:{\"icon\":\"\",\"circle\":\"\",\"success\":\"\",\"flat\":\"\"},on:{\"click\":_vm.openModal}},[_c('em',{staticClass:\"bx bx-pencil\"})])],1):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"col\"},[_c('vs-button',{attrs:{\"icon\":\"\",\"circle\":\"\",\"danger\":\"\",\"flat\":\"\"},on:{\"click\":function($event){return _vm.$emit('destroy', _vm.inputs.id)}}},[_c('em',{staticClass:\"bx bx-trash-alt\"})])],1)])])],2)])]),_vm._v(\" \"),_c('EditItemsModal',{attrs:{\"bus\":_vm.bus,\"title\":_vm.updateModalTitle,\"fields\":_vm.fields,\"inputs\":_vm.inputs}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"card\">\n\n      <div class=\"card-body\">\n        <div class=\"row align-items-center mx-0\">\n          <div v-for=\"(field, index) in fields\"\n               :key=\"field\"\n               class=\"col-auto\"\n               :class=\"field === 'id' && hideId || field === 'password' ? 'd-none' : ''\"\n          >\n            <h6 class=\"mb-0\"\n                :style=\"checkTitleRouter ? 'cursor: pointer' : '' \"\n                @click=\"routePush(index)\"\n            >\n              {{ inputs[field] }} {{ field === 'cost' ? ' ₸' : '' }}\n            </h6>\n          </div>\n\n          <div class=\"col-auto ms-auto\">\n            <div class=\"row gx-0\">\n              <div v-if=\"hideUpdate === false\" class=\"col\">\n                <vs-button\n                  icon\n                  circle\n                  success\n                  flat\n                  @click=\"openModal\"\n                >\n                  <em class=\"bx bx-pencil\" />\n                </vs-button>\n              </div>\n              <div class=\"col\">\n                <vs-button\n                  icon\n                  circle\n                  danger\n                  flat\n                  @click=\"$emit('destroy', inputs.id)\"\n                >\n                  <em class=\"bx bx-trash-alt\" />\n                </vs-button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <EditItemsModal :bus=\"bus\"\n                    :title=\"updateModalTitle\"\n                    :fields=\"fields\"\n                    :inputs=\"inputs\"\n    />\n  </div>\n</template>\n\n<script>\nimport Vue from \"vue\";\nimport EditItemsModal from \"./EditItemsModal.vue\";\nexport default {\n  name: \"ItemCardOneField\",\n  components: {\n    EditItemsModal\n  },\n  props: {\n    item: {\n      type: Object,\n      required: true\n    },\n    hideUpdate: {\n      type: Boolean,\n      default: false\n    },\n    fields: {\n      type: Array,\n      required: true\n    },\n    updateModalTitle: {\n      type: String,\n      required: false,\n      default: ''\n    },\n    hideId: {\n      type: Boolean,\n      required: false,\n      default: true\n    }\n  },\n  data: () => ({\n    bus: new Vue()\n  }),\n  computed: {\n    inputs () {\n      let inputs = {}\n      this.fields.forEach(field => {\n        inputs[field] = this.item[field]\n      })\n      return inputs;\n    },\n    checkTitleRouter () {\n      return typeof this.$attrs['title-router'] !== 'undefined'\n    }\n  },\n  mounted() {\n    this.bus.$on('save', this.update)\n  },\n  methods: {\n    openModal() {\n      this.bus.$emit('openModal', {\n        name: this.name,\n        id: this.id\n      })\n    },\n\n    /**\n     *\n     * @param {object} params\n     */\n    update (params) {\n      this.$emit('update', params)\n    },\n\n    routePush (index) {\n      console.log(this.$attrs['title-router'])\n      this.$emit('title-route')\n      if (typeof this.$attrs['title-router'] !== 'undefined') {\n        if (index === 0 && !this.hideId) {\n          this.$emit('title-route')\n        }\n\n        if (index === 1 && this.hideId) {\n          this.$emit('title-route')\n        }\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemCardOneField.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemCardOneField.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ItemCardOneField.vue?vue&type=template&id=b89d3cf0&scoped=true&\"\nimport script from \"./ItemCardOneField.vue?vue&type=script&lang=js&\"\nexport * from \"./ItemCardOneField.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b89d3cf0\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.$root.$loading.show)?_c('Loader'):_c('div',[_c('HeaderFilterInfo',{ref:\"filter\",attrs:{\"values\":_vm.users,\"view-length\":_vm.viewLength,\"title\":_vm.$t('users.index.filter_title'),\"filter\":_vm.filter},on:{\"create\":function($event){return _vm.busCreateUser.$emit('openModal')},\"get\":_vm.get,\"setViewLength\":_vm.setViewLength}}),_vm._v(\" \"),_c('div',{staticClass:\"row gy-3 mt-3\"},_vm._l((_vm.users.data),function(item){return _c('div',{key:item.id,staticClass:\"col-12\"},[_c('ItemCardOneField',{attrs:{\"item\":item,\"fields\":_vm.inputs,\"update-modal-title\":'users.edit-modal.title'},on:{\"update\":_vm.update,\"destroy\":_vm.deleteItem}})],1)}),0),_vm._v(\" \"),_c('EditItemsModal',{attrs:{\"bus\":_vm.busCreateUser,\"title\":'users.create-modal.title',\"fields\":_vm.inputs,\"inputs\":{}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <Loader v-if=\"$root.$loading.show\" />\n\n  <div v-else>\n    <HeaderFilterInfo ref=\"filter\"\n                      :values=\"users\"\n                      :view-length=\"viewLength\"\n                      :title=\"$t('users.index.filter_title')\"\n                      :filter=\"filter\"\n                      @create=\"busCreateUser.$emit('openModal')\"\n                      @get=\"get\"\n                      @setViewLength=\"setViewLength\"\n    />\n\n    <div class=\"row gy-3 mt-3\">\n      <div v-for=\"item in users.data\" :key=\"item.id\" class=\"col-12\">\n        <ItemCardOneField :item=\"item\"\n                          :fields=\"inputs\"\n                          :update-modal-title=\"'users.edit-modal.title'\"\n                          @update=\"update\"\n                          @destroy=\"deleteItem\"\n        />\n      </div>\n    </div>\n\n    <EditItemsModal :bus=\"busCreateUser\"\n                    :title=\"'users.create-modal.title'\"\n                    :fields=\"inputs\"\n                    :inputs=\"{}\"\n    />\n  </div>\n</template>\n\n<script>\n\nimport axios from 'axios'\nimport Loader from '~/admin/components/Loader.vue'\nimport HeaderFilterInfo from '~/admin/components/HeaderFilterInfo.vue'\nimport ItemCardOneField from '~/admin/components/ItemCardOneField.vue'\nimport EditItemsModal from \"~/admin/components/EditItemsModal\";\nimport Vue from \"vue\";\nimport i18n from \"~/admin/plugins/i18n\";\nimport {mapGetters} from \"vuex\";\n\nexport default {\n  name: 'Index',\n  components: {\n    Loader,\n    HeaderFilterInfo,\n    ItemCardOneField,\n    EditItemsModal\n  },\n  data: () => ({\n    title: i18n.t('users.index.title'),\n    viewLength: 10,\n    users: {},\n    filter: new Vue(),\n    busCreateUser: new Vue(),\n    inputs: [\n      'id', 'name', 'email', 'password'\n    ]\n  }),\n  computed: {\n    ...mapGetters({\n      user: 'auth/user'\n    }),\n  },\n  metaInfo () {\n    return {\n      title: this.$t('users.index.title'),\n    }\n  },\n  async mounted () {\n    await this.busCreateUser.$on('save', this.store)\n\n    await this.$root.$loading.set(50)\n    await axios.get('/api/admin/users', {\n      params: {\n        per_page: this.viewLength,\n      }\n    })\n    .then(r => {\n      console.log(r.data)\n      this.users = r.data.payload.users\n      this.$root.$loading.finish()\n    })\n    .catch(e => {\n      console.log(e)\n      this.$root.$loading.fail()\n    })\n  },\n  methods: {\n    /**\n     * update new Date\n     *\n     * @param {object} settings\n     * @param {number} settings.page\n     * @param {string} settings.search\n     */\n    get (settings) {\n      axios.get('/api/admin/users', {\n        params: {\n          per_page: this.viewLength,\n          page: settings.page,\n          search: settings.search\n        }\n      })\n        /**\n         * @var {object} r\n         * @var {object} r.data\n         * @var {object} r.data.payload\n         * @var {array} r.data.payload.users\n         */\n      .then(r => {\n        this.users = r.data.payload.users\n        this.filter.$emit('updateData', r.data.payload.users)\n        console.log('new data', r.data)\n      })\n\n    },\n\n    /**\n     * new view items count\n     *\n     * @param {number} newLength\n     */\n    setViewLength (newLength) {\n      this.viewLength = newLength\n    },\n\n    /**\n     * Delete select resort\n     *\n     * @param {number} id\n     */\n    deleteItem (id) {\n\n      if (id === this.user.id) {\n        this.$vs.notification({\n          duration: 2000,\n          sticky: true,\n          position: 'top-right',\n          color: 'danger',\n          title: this.$t('notification.delete.danger.title'),\n          text: this.$t('notification.delete.danger.user-delete')\n        })\n\n        return false\n      }\n      axios.delete('/api/admin/users/' + id)\n        /**\n         * @var {object} r\n         * @var {object} r.data\n         * @var {object} r.data.payload\n         * @var {object} r.data.payload.user\n         */\n      .then(r => {\n        this.$vs.notification({\n          duration: 2000,\n          sticky: true,\n          position: 'top-right',\n          color: 'success',\n          title: this.$t('notification.delete.success.title', {name: r.data.payload.user.name}),\n          text: this.$t('notification.delete.success.text', {name: r.data.payload.user.name})\n        })\n        this.get({\n          page: this.$refs.filter.page,\n          search: this.$refs.filter.value\n        })\n      })\n      .catch(e => {\n        this.$vs.notification({\n          duration: 2000,\n          sticky: true,\n          position: 'top-right',\n          color: 'danger',\n          title: this.$t('notification.delete.danger.title'),\n          text: e.response.data.message\n        })\n        this.get({\n          page: this.$refs.filter.page,\n          search: this.$refs.filter.value\n        })\n      })\n    },\n\n    /**\n     *\n     * @param {object} params\n     * @var {function} params.callbackSuccess\n     * @var {function} params.callbackError\n     * @var {number} params.id\n     * @var {string} params.name\n     */\n    update (params) {\n\n      axios.put('/api/admin/users/' + params.id, {\n        name: params.name,\n        email: params.email,\n        password: params.password\n      })\n      .then(r => {\n        if(r.data.success) {\n          params.callbackSuccess()\n          this.get({\n            page: this.$refs.filter.page,\n            search: this.$refs.filter.value\n          })\n        } else {\n          params.callbackError('Не предвиденная ошибка')\n        }\n      })\n      .catch(e => {\n        if (e.response.data.errors) {\n          params.callbackError(e.response.data.errors)\n        } else {\n          params.callbackError({\n            message: e.response.data.message\n          })\n        }\n      })\n    },\n\n    /**\n     *\n     * @param {object} params\n     * @var {function} params.callbackSuccess\n     * @var {function} params.callbackError\n     * @var {null} params.id\n     * @var {string} params.name\n     */\n    store (params) {\n      axios.post('/api/admin/users/', {\n        name: params.name,\n        email: params.email,\n        password: params.password\n      })\n      .then(r => {\n        if (r.data.success) {\n          params.callbackSuccess()\n\n          this.get({\n            page: this.$refs.filter.page,\n            search: this.$refs.filter.value\n          })\n        } else {\n          params.callbackError('Server return Error')\n        }\n      })\n      .catch(e => {\n        if (e.response.data.errors) {\n          params.callbackError(e.response.data.errors)\n        } else {\n          params.callbackError({\n            message: e.response.data.message\n          })\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=7cf6f750&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7cf6f750\",\n  null\n  \n)\n\nexport default component.exports"],"names":["name","props","bus","type","required","title","String","default","fields","Array","inputs","Object","data","computed","translateTitle","this","$t","mounted","nameTitle","$on","openModal","methods","active","save","loading","$emit","callbackSuccess","callbackError","error","_vm","_h","$createElement","_c","_self","attrs","scopedSlots","_u","key","fn","staticClass","_v","_s","_e","proxy","on","$event","model","value","callback","$$v","expression","_l","field","$set","message","components","EditItemsModal","item","hideUpdate","Boolean","updateModalTitle","hideId","forEach","checkTitleRouter","$attrs","update","id","params","routePush","console","log","index","class","style","Loader","HeaderFilterInfo","ItemCardOneField","metaInfo","get","per_page","viewLength","page","settings","search","r","setViewLength","newLength","deleteItem","user","$vs","notification","duration","sticky","position","color","text","e","response","email","password","errors","store","success","$root","$loading","ref","users","filter","busCreateUser"],"sourceRoot":""}