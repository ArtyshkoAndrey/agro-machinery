{"version":3,"file":"dist/js/71226f89ced22a464903.js","mappings":"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","sources":["webpack:///./resources/js/admin/pages/dashboard/attributes/index.vue?c2f1","webpack:///resources/js/admin/pages/dashboard/attributes/index.vue","webpack:///./resources/js/admin/pages/dashboard/attributes/index.vue?1d34","webpack:///./resources/js/admin/pages/dashboard/attributes/index.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.$root.$loading.show)?_c('Loader'):_c('div',[_c('HeaderFilterInfo',{ref:\"filter\",attrs:{\"values\":_vm.attributes,\"view-length\":_vm.viewLength,\"title\":_vm.$t('attributes.index.filter_title'),\"filter\":_vm.filter},on:{\"create\":_vm.store,\"get\":_vm.get,\"setViewLength\":_vm.setViewLength}}),_vm._v(\" \"),_c('div',{staticClass:\"row gy-3 mt-3\"},_vm._l((_vm.attributes.data),function(item){return _c('div',{key:item.id,staticClass:\"col-12\"},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-body\"},[_c('div',{staticClass:\"row align-items-center mx-0\"},[_c('div',{staticClass:\"col-auto\"},[_c('h6',{staticClass:\"mb-0\"},[_vm._v(\"\\n                \"+_vm._s(item.translations.find(function (e) { return e.locale === _vm.locale; }).name)+\"\\n              \")])]),_vm._v(\" \"),_c('div',{staticClass:\"col-auto ms-auto\"},[_c('div',{staticClass:\"row gx-0\"},[_c('div',{staticClass:\"col\"},[_c('vs-button',{attrs:{\"icon\":\"\",\"circle\":\"\",\"success\":\"\",\"flat\":\"\"},on:{\"click\":function($event){return _vm.update(item.id)}}},[_c('em',{staticClass:\"bx bx-pencil\"})])],1),_vm._v(\" \"),_c('div',{staticClass:\"col\"},[_c('vs-button',{attrs:{\"icon\":\"\",\"circle\":\"\",\"danger\":\"\",\"flat\":\"\"},on:{\"click\":function($event){return _vm.deleteItem(item.id)}}},[_c('em',{staticClass:\"bx bx-trash-alt\"})])],1)])])])])])])}),0)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <Loader v-if=\"$root.$loading.show\" />\r\n\r\n  <div v-else>\r\n    <HeaderFilterInfo ref=\"filter\"\r\n                      :values=\"attributes\"\r\n                      :view-length=\"viewLength\"\r\n                      :title=\"$t('attributes.index.filter_title')\"\r\n                      :filter=\"filter\"\r\n                      @create=\"store\"\r\n                      @get=\"get\"\r\n                      @setViewLength=\"setViewLength\"\r\n    />\r\n    <div class=\"row gy-3 mt-3\">\r\n      <div v-for=\"item in attributes.data\" :key=\"item.id\" class=\"col-12\">\r\n        <div class=\"card\">\r\n          <div class=\"card-body\">\r\n            <div class=\"row align-items-center mx-0\">\r\n              <div class=\"col-auto\">\r\n                <h6 class=\"mb-0\">\r\n                  {{ item.translations.find(e => e.locale === locale).name }}\r\n                </h6>\r\n              </div>\r\n\r\n              <div class=\"col-auto ms-auto\">\r\n                <div class=\"row gx-0\">\r\n                  <div class=\"col\">\r\n                    <vs-button\r\n                      icon\r\n                      circle\r\n                      success\r\n                      flat\r\n                      @click=\"update(item.id)\"\r\n                    >\r\n                      <em class=\"bx bx-pencil\" />\r\n                    </vs-button>\r\n                  </div>\r\n                  <div class=\"col\">\r\n                    <vs-button\r\n                      icon\r\n                      circle\r\n                      danger\r\n                      flat\r\n                      @click=\"deleteItem(item.id)\"\r\n                    >\r\n                      <em class=\"bx bx-trash-alt\" />\r\n                    </vs-button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport axios from 'axios'\r\nimport Loader from '~/admin/components/Loader.vue'\r\nimport HeaderFilterInfo from '~/admin/components/HeaderFilterInfo.vue'\r\nimport Vue from \"vue\";\r\nimport { mapGetters } from \"vuex\";\r\n\r\nexport default {\r\n  name: 'Index',\r\n  components: {\r\n    Loader,\r\n    HeaderFilterInfo,\r\n  },\r\n  metaInfo() {\r\n    return {\r\n      title: this.$t('attributes.index.title')\r\n    }\r\n  },\r\n  data: () => ({\r\n    viewLength: 10,\r\n    attributes: {},\r\n    filter: new Vue(),\r\n    busCreateAttribute: new Vue(),\r\n  }),\r\n  computed: {\r\n    ...mapGetters({\r\n      locale: 'lang/locale'\r\n    })\r\n  },\r\n  async mounted () {\r\n    await this.busCreateAttribute.$on('save', this.store)\r\n\r\n    await this.$root.$loading.set(50)\r\n    await axios.get('/api/admin/attributes', {\r\n      params: {\r\n        per_page: this.viewLength,\r\n      }\r\n    })\r\n    .then(r => {\r\n      console.log(r.data)\r\n      this.attributes = r.data.payload.attributes\r\n      this.$root.$loading.finish()\r\n    })\r\n    .catch(e => {\r\n      console.log(e)\r\n      this.$root.$loading.fail()\r\n    })\r\n  },\r\n  methods: {\r\n    /**\r\n     * update new Date\r\n     *\r\n     * @param {object} settings\r\n     * @param {number} settings.page\r\n     * @param {string} settings.search\r\n     */\r\n    get (settings) {\r\n      axios.get('/api/admin/attributes', {\r\n        params: {\r\n          per_page: this.viewLength,\r\n          page: settings.page,\r\n          search: settings.search\r\n        }\r\n      })\r\n        /**\r\n         * @var {object} r\r\n         * @var {object} r.data\r\n         * @var {object} r.data.payload\r\n         * @var {array} r.data.payload.attributes\r\n         */\r\n      .then(r => {\r\n        this.attributes = r.data.payload.attributes\r\n        this.filter.$emit('updateData', r.data.payload.attributes)\r\n        console.log('new data', r.data)\r\n      })\r\n\r\n    },\r\n\r\n    /**\r\n     * new view items count\r\n     *\r\n     * @param {number} newLength\r\n     */\r\n    setViewLength (newLength) {\r\n      this.viewLength = newLength\r\n    },\r\n\r\n    /**\r\n     * Delete select resort\r\n     *\r\n     * @param {number} id\r\n     */\r\n    deleteItem (id) {\r\n      axios.delete('/api/admin/attributes/' + id)\r\n        /**\r\n         * @var {object} r\r\n         * @var {object} r.data\r\n         * @var {object} r.data.payload\r\n         * @var {object} r.data.payload.attributes\r\n         */\r\n      .then(r => {\r\n        this.$vs.notification({\r\n          duration: 2000,\r\n          sticky: true,\r\n          position: 'top-right',\r\n          color: 'success',\r\n          title: this.$t('notification.delete.success.title', {name: r.data.payload.attribute.name}),\r\n          text: this.$t('notification.delete.success.text', {name: r.data.payload.attribute.name})\r\n        })\r\n        this.get({\r\n          page: this.$refs.filter.page,\r\n          search: this.$refs.filter.value\r\n        })\r\n      })\r\n      .catch(e => {\r\n        this.$vs.notification({\r\n          duration: 2000,\r\n          sticky: true,\r\n          position: 'top-right',\r\n          color: 'danger',\r\n          title: this.$t('notification.delete.danger.title'),\r\n          text: e.response.data.message\r\n        })\r\n        this.get({\r\n          page: this.$refs.filter.page,\r\n          search: this.$refs.filter.value\r\n        })\r\n      })\r\n    },\r\n\r\n    update (id) {\r\n      this.$router.push({\r\n        name: 'dashboard.attributes.edit',\r\n        params: {id: id}\r\n      })\r\n    },\r\n\r\n    store () {\r\n      this.$router.push({\r\n        name: 'dashboard.attributes.store'\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=aba3f7e2&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"aba3f7e2\",\n  null\n  \n)\n\nexport default component.exports"],"names":["name","components","Loader","HeaderFilterInfo","metaInfo","title","this","$t","data","computed","methods","get","params","per_page","viewLength","page","settings","search","console","log","r","setViewLength","newLength","deleteItem","duration","sticky","position","color","text","e","response","message","update","$router","push","store","_vm","_h","$createElement","_c","_self","$root","$loading","ref","attrs","attributes","filter","on","_v","staticClass","_l","item","key","id","_s","translations","find","locale","$event"],"sourceRoot":""}