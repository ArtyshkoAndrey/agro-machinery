{"version":3,"file":"dist/js/b67ea74eada8a92e368e.js","mappings":"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","sources":["webpack:///./resources/js/admin/pages/dashboard/attributes/index.vue?c2f1","webpack:///resources/js/admin/pages/dashboard/attributes/index.vue","webpack:///./resources/js/admin/pages/dashboard/attributes/index.vue?1d34","webpack:///./resources/js/admin/pages/dashboard/attributes/index.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.$root.$loading.show)?_c('Loader'):_c('div',[_c('HeaderFilterInfo',{ref:\"filter\",attrs:{\"values\":_vm.attributes,\"view-length\":_vm.viewLength,\"title\":_vm.$t('attributes.index.filter_title'),\"filter\":_vm.filter},on:{\"create\":_vm.store,\"get\":_vm.get,\"setViewLength\":_vm.setViewLength}}),_vm._v(\" \"),_c('div',{staticClass:\"row gy-3 mt-3\"},_vm._l((_vm.attributes.data),function(item){return _c('div',{key:item.id,staticClass:\"col-12\"},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-body\"},[_c('div',{staticClass:\"row align-items-center mx-0\"},[_c('div',{staticClass:\"col-auto\"},[_c('h6',{staticClass:\"mb-0\"},[_vm._v(\"\\n                \"+_vm._s(item.translations.find(function (e) { return e.locale === _vm.locale; }).name)+\"\\n              \")])]),_vm._v(\" \"),_c('div',{staticClass:\"col-auto ms-auto\"},[_c('div',{staticClass:\"row gx-0\"},[_c('div',{staticClass:\"col\"},[_c('vs-button',{attrs:{\"icon\":\"\",\"circle\":\"\",\"success\":\"\",\"flat\":\"\"},on:{\"click\":function($event){return _vm.update(item.id)}}},[_c('em',{staticClass:\"bx bx-pencil\"})])],1),_vm._v(\" \"),_c('div',{staticClass:\"col\"},[_c('vs-button',{attrs:{\"icon\":\"\",\"circle\":\"\",\"danger\":\"\",\"flat\":\"\"},on:{\"click\":function($event){return _vm.deleteItem(item.id)}}},[_c('em',{staticClass:\"bx bx-trash-alt\"})])],1)])])])])])])}),0)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <Loader v-if=\"$root.$loading.show\" />\n\n  <div v-else>\n    <HeaderFilterInfo ref=\"filter\"\n                      :values=\"attributes\"\n                      :view-length=\"viewLength\"\n                      :title=\"$t('attributes.index.filter_title')\"\n                      :filter=\"filter\"\n                      @create=\"store\"\n                      @get=\"get\"\n                      @setViewLength=\"setViewLength\"\n    />\n    <div class=\"row gy-3 mt-3\">\n      <div v-for=\"item in attributes.data\" :key=\"item.id\" class=\"col-12\">\n        <div class=\"card\">\n          <div class=\"card-body\">\n            <div class=\"row align-items-center mx-0\">\n              <div class=\"col-auto\">\n                <h6 class=\"mb-0\">\n                  {{ item.translations.find(e => e.locale === locale).name }}\n                </h6>\n              </div>\n\n              <div class=\"col-auto ms-auto\">\n                <div class=\"row gx-0\">\n                  <div class=\"col\">\n                    <vs-button\n                      icon\n                      circle\n                      success\n                      flat\n                      @click=\"update(item.id)\"\n                    >\n                      <em class=\"bx bx-pencil\" />\n                    </vs-button>\n                  </div>\n                  <div class=\"col\">\n                    <vs-button\n                      icon\n                      circle\n                      danger\n                      flat\n                      @click=\"deleteItem(item.id)\"\n                    >\n                      <em class=\"bx bx-trash-alt\" />\n                    </vs-button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n  </div>\n</template>\n\n<script>\n\nimport axios from 'axios'\nimport Loader from '~/admin/components/Loader.vue'\nimport HeaderFilterInfo from '~/admin/components/HeaderFilterInfo.vue'\nimport Vue from \"vue\";\nimport { mapGetters } from \"vuex\";\n\nexport default {\n  name: 'Index',\n  components: {\n    Loader,\n    HeaderFilterInfo,\n  },\n  metaInfo() {\n    return {\n      title: this.$t('attributes.index.title')\n    }\n  },\n  data: () => ({\n    viewLength: 10,\n    attributes: {},\n    filter: new Vue(),\n    busCreateAttribute: new Vue(),\n  }),\n  computed: {\n    ...mapGetters({\n      locale: 'lang/locale'\n    })\n  },\n  async mounted () {\n    await this.busCreateAttribute.$on('save', this.store)\n\n    await this.$root.$loading.set(50)\n    await axios.get('/api/admin/attributes', {\n      params: {\n        per_page: this.viewLength,\n      }\n    })\n    .then(r => {\n      console.log(r.data)\n      this.attributes = r.data.payload.attributes\n      this.$root.$loading.finish()\n    })\n    .catch(e => {\n      console.log(e)\n      this.$root.$loading.fail()\n    })\n  },\n  methods: {\n    /**\n     * update new Date\n     *\n     * @param {object} settings\n     * @param {number} settings.page\n     * @param {string} settings.search\n     */\n    get (settings) {\n      axios.get('/api/admin/attributes', {\n        params: {\n          per_page: this.viewLength,\n          page: settings.page,\n          search: settings.search\n        }\n      })\n        /**\n         * @var {object} r\n         * @var {object} r.data\n         * @var {object} r.data.payload\n         * @var {array} r.data.payload.attributes\n         */\n      .then(r => {\n        this.attributes = r.data.payload.attributes\n        this.filter.$emit('updateData', r.data.payload.attributes)\n        console.log('new data', r.data)\n      })\n\n    },\n\n    /**\n     * new view items count\n     *\n     * @param {number} newLength\n     */\n    setViewLength (newLength) {\n      this.viewLength = newLength\n    },\n\n    /**\n     * Delete select resort\n     *\n     * @param {number} id\n     */\n    deleteItem (id) {\n      axios.delete('/api/admin/attributes/' + id)\n        /**\n         * @var {object} r\n         * @var {object} r.data\n         * @var {object} r.data.payload\n         * @var {object} r.data.payload.attributes\n         */\n      .then(r => {\n        this.$vs.notification({\n          duration: 2000,\n          sticky: true,\n          position: 'top-right',\n          color: 'success',\n          title: this.$t('notification.delete.success.title', {name: r.data.payload.attribute.name}),\n          text: this.$t('notification.delete.success.text', {name: r.data.payload.attribute.name})\n        })\n        this.get({\n          page: this.$refs.filter.page,\n          search: this.$refs.filter.value\n        })\n      })\n      .catch(e => {\n        this.$vs.notification({\n          duration: 2000,\n          sticky: true,\n          position: 'top-right',\n          color: 'danger',\n          title: this.$t('notification.delete.danger.title'),\n          text: e.response.data.message\n        })\n        this.get({\n          page: this.$refs.filter.page,\n          search: this.$refs.filter.value\n        })\n      })\n    },\n\n    update (id) {\n      this.$router.push({\n        name: 'dashboard.attributes.edit',\n        params: {id: id}\n      })\n    },\n\n    store () {\n      this.$router.push({\n        name: 'dashboard.attributes.store'\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=aba3f7e2&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"aba3f7e2\",\n  null\n  \n)\n\nexport default component.exports"],"names":["name","components","Loader","HeaderFilterInfo","metaInfo","title","this","$t","data","computed","methods","get","params","per_page","viewLength","page","settings","search","console","log","r","setViewLength","newLength","deleteItem","duration","sticky","position","color","text","e","response","message","update","$router","push","store","_vm","_h","$createElement","_c","_self","$root","$loading","ref","attrs","attributes","filter","on","_v","staticClass","_l","item","key","id","_s","translations","find","locale","$event"],"sourceRoot":""}